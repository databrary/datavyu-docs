<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: RCell
  
    &mdash; Documentation by YARD 0.9.20
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "RCell";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (R)</a> &raquo;
    
    
    <span class="title">RCell</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: RCell
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">RCell</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>datavyu_api.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Ruby representation of a spreadsheet cell. Generally, the two ways to get access to a cell are:</p>

<pre class="code ruby"><code class="ruby">RColumn.cells to get a list of cells from a column
RColumn.new_cell to create a blank cell in a column.
</code></pre>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#arglist-instance_method" title="#arglist (instance method)">#<strong>arglist</strong>  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List of codes inherited from parent column.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#argvals-instance_method" title="#argvals (instance method)">#<strong>argvals</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>List of code values.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#db_cell-instance_method" title="#db_cell (instance method)">#<strong>db_cell</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Native Datavyu object corresponding to this cell.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#offset-instance_method" title="#offset (instance method)">#<strong>offset</strong>  &#x21d2; Fixnum </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Offset time of the cell in milliseconds.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#onset-instance_method" title="#onset (instance method)">#<strong>onset</strong>  &#x21d2; Fixnum </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Onset time of the cell in milliseconds.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#ordinal-instance_method" title="#ordinal (instance method)">#<strong>ordinal</strong>  &#x21d2; Fixnum </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Ordinal number of the cell.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#parent-instance_method" title="#parent (instance method)">#<strong>parent</strong>  &#x21d2; RColumn </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The column this cell belongs to.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_code-instance_method" title="#change_code (instance method)">#<strong>change_code</strong>(arg, val)  &#x21d2; nil </a>
    

    
      (also: #change_arg)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Changes the value of an argument in a cell.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#contains-instance_method" title="#contains (instance method)">#<strong>contains</strong>(inner_cell)  &#x21d2; true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check to see if this cell encases another cell temporally.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#duration-instance_method" title="#duration (instance method)">#<strong>duration</strong>  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Duration of this cell (currently defined as offset minus onset).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_code-instance_method" title="#get_code (instance method)">#<strong>get_code</strong>(name)  &#x21d2; String, Integer </a>
    

    
      (also: #get_arg)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get value of a code.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_codes-instance_method" title="#get_codes (instance method)">#<strong>get_codes</strong>(*codes)  &#x21d2; Array </a>
    

    
      (also: #get_args, #getArgs)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Map the specified code names to their values.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_within-instance_method" title="#is_within (instance method)">#<strong>is_within</strong>(outer_cell)  &#x21d2; true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check if self is nested temporally nested.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#overlapping_region-instance_method" title="#overlapping_region (instance method)">#<strong>overlapping_region</strong>(cell)  &#x21d2; Range </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gives the intersection region between self and given cell.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#overlaps_cell-instance_method" title="#overlaps_cell (instance method)">#<strong>overlaps_cell</strong>(cell)  &#x21d2; true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check if there is any intersection between this cell and given cell.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#overlaps_range-instance_method" title="#overlaps_range (instance method)">#<strong>overlaps_range</strong>(range)  &#x21d2; true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check if there is any intersection between this cell and given time range (inclusive).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#print_all-instance_method" title="#print_all (instance method)">#<strong>print_all</strong>(sep = &quot;\t&quot;)  &#x21d2; nil </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Print ordinal, onset, offset, and values of all codes in the cell to console.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_code-instance_method" title="#remove_code (instance method)">#<strong>remove_code</strong>(name)  &#x21d2; nil </a>
    

    
      (also: #remove_arg)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Removes code from arglist and associated value from argvals.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#spans-instance_method" title="#spans (instance method)">#<strong>spans</strong>(time)  &#x21d2; true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check if given time falls within this cell&#39;s [onset, offset].</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice this">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
  </p>
  
    <div class="method_details first">
  <h3 class="signature first" id="method_missing-instance_method">
  
    #<strong>method_missing</strong>(m, *args, &amp;block)  &#x21d2; <tt>Object</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Override method missing. Check if the method is trying to get/set an arg. If it is, define accessor method and send the method to self.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


272
273
274
275
276
277
278
279
280
281
282
283</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 272</span>

<span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_mn'>mn</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span> <span class='op'>:</span> <span class='id identifier rubyid_mn'>mn</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
  <span class='kw'>else</span>
    <span class='kw'>super</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="arglist=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="arglist-instance_method">
  
    #<strong>arglist</strong>  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Use RColumn methods to modify column codes. Changing this list for the cell has no effect on the column.</p>
</div>
  </div>


<p>Returns list of codes inherited from parent column.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>list of codes inherited from parent column.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 87</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:ordinal</span><span class='comma'>,</span> <span class='symbol'>:onset</span><span class='comma'>,</span> <span class='symbol'>:offset</span><span class='comma'>,</span> <span class='symbol'>:arglist</span><span class='comma'>,</span> <span class='symbol'>:argvals</span><span class='comma'>,</span> <span class='symbol'>:db_cell</span><span class='comma'>,</span> <span class='symbol'>:parent</span>

  <span class='comment'># @!visibility private
</span>  <span class='comment'># @note This method is not for general use, it is used only when creating
</span>  <span class='comment'>#       this variable from the database in the get_column method.
</span>  <span class='comment'># Sets up methods that can be used to reference the arguments in
</span>  <span class='comment'># the cell.
</span>  <span class='comment'># @param argvals (required): Values of the arguments being created
</span>  <span class='comment'># @param arglist (required): Names of the arguments being created
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_set_args'>set_args</span><span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span><span class='comma'>,</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span>
    <span class='ivar'>@argvals</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='op'>?</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='op'>:</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>

    <span class='comment'># Add getter/setter methods for each code
</span>    <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Map the specified code names to their values.
</span>  <span class='comment'># If no names specified, use self.arglist.
</span>  <span class='comment'># @note Onset, offset, and ordinal are returned as Integers; all else are Strings
</span>  <span class='comment'># @param codes [Array&lt;String&gt;] (optional): Names of codes.
</span>  <span class='comment'># @return [Array] Values of specified codes.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_codes'>get_codes</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_codes'>codes</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span> <span class='kw'>if</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>

    <span class='id identifier rubyid_vals'>vals</span> <span class='op'>=</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='op'>|</span>
      <span class='kw'>case</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span>
      <span class='kw'>else</span>
        <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span><span class='op'>?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_arg'>get_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to get the following code from cell </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span><span class='embexpr_end'>}</span><span class='tstring_content'> in column </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cname'>cname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_vals'>vals</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_args</span> <span class='symbol'>:get_codes</span>
  <span class='kw'>alias</span> <span class='symbol'>:getArgs</span> <span class='symbol'>:get_codes</span>

  <span class='comment'># Defines an alias for a code
</span>  <span class='comment'># @!visibility private
</span>  <span class='comment'># @param i [Integer] index of code to change
</span>  <span class='comment'># @param new_name [String] new name for code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code_name'>change_code_name</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg_name</span> <span class='symbol'>:change_code_name</span>

  <span class='comment'># Add specified code to end of arglist.
</span>  <span class='comment'># @param new_name [String] name of new code
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_add_code'>add_code</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:add_arg</span> <span class='symbol'>:add_code</span>

  <span class='comment'># Removes code from arglist and associated value from argvals
</span>  <span class='comment'># @param name [String] name of code to remove
</span>  <span class='comment'># @return [nil]
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_remove_code'>remove_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:remove_arg</span> <span class='symbol'>:remove_code</span>

  <span class='comment'># Get value of a code
</span>  <span class='comment'># @param name [String] name of code
</span>  <span class='comment'># @return [String, Integer] value of code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_code'>get_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>onset</span><span class='words_sep'> </span><span class='tstring_content'>offset</span><span class='words_sep'> </span><span class='tstring_content'>ordinal</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cell does not have code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='comment'># return argvals[arglist.index(name)] if arglist.include?(name)
</span>  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_arg</span> <span class='symbol'>:get_code</span>

  <span class='comment'># Changes the value of an argument in a cell.
</span>  <span class='comment'># @param arg [String] name of the argument to be changed
</span>  <span class='comment'># @param val [String, Fixnum] value to change the argument to
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       trial.cells[0].change_code(&quot;onset&quot;, 1000)
</span>  <span class='comment'>#       set_column(trial)
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code'>change_code</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@onset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@offset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@ordinal</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_san_arg'>san_arg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RColumn.html" title="RColumn (class)">RColumn</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sanitize_codename'><span class='object_link'><a href="RColumn.html#sanitize_codename-class_method" title="RColumn.sanitize_codename (method)">sanitize_codename</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_san_arg'>san_arg</span><span class='rparen'>)</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='id identifier rubyid_argvals'>argvals</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to change code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;; no such code found.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg</span> <span class='symbol'>:change_code</span>

  <span class='comment'># Print ordinal, onset, offset, and values of all codes in the cell to console.
</span>  <span class='comment'># @param sep [String] seperator used between the arguments
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example Print the first cell in the &#39;trial&#39; column
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       puts trial.cells[0].print_all()
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_print_all'>print_all</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_print'>print</span> <span class='ivar'>@ordinal</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@onset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@offset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>self.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if self is nested temporally nested
</span>  <span class='comment'># @param outer_cell [RCell]: cell to check nesting against
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if trial.cells[0].is_within(id.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_is_within'>is_within</span><span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check to see if this cell encases another cell temporally
</span>  <span class='comment'># @param inner_cell [RCell] cell to check if contained by this cell
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if id.cells[0].contains(trial.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_contains'>contains</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Duration of this cell (currently defined as offset minus onset)
</span>  <span class='comment'># @return [Integer] duration of cell in ms
</span>  <span class='comment'># @example
</span>  <span class='comment'># 	duration = myCell.duration
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_duration'>duration</span>
    <span class='kw'>return</span> <span class='ivar'>@offset</span> <span class='op'>-</span> <span class='ivar'>@onset</span>
  <span class='kw'>end</span>

  <span class='comment'># Override method missing.
</span>  <span class='comment'># Check if the method is trying to get/set an arg.
</span>  <span class='comment'># If it is, define accessor method and send the method to self.
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mn'>mn</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span> <span class='op'>:</span> <span class='id identifier rubyid_mn'>mn</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
    <span class='kw'>else</span>
      <span class='kw'>super</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if given time falls within this cell&#39;s [onset, offset]
</span>  <span class='comment'># @param time time in milliseconds to check
</span>  <span class='comment'># @return [true, false] true if the given time is greater-than-or-equal to this cell&#39;s onset and less-than-or-equal to this cell&#39;s offset
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given cell
</span>  <span class='comment'># @param cell [RCell] other cell
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given cell
</span>  <span class='comment'># @note If the onset of one cell is the offset of another, the two cells are considered to be overlapping.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given time range (inclusive).
</span>  <span class='comment'># @param [Numeric] range time range
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given time range
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_range'>overlaps_range</span><span class='lparen'>(</span><span class='id identifier rubyid_range'>range</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
    <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Gives the intersection region between self and given cell
</span>  <span class='comment'># @param [RCell] cell other cell
</span>  <span class='comment'># @return [Range] time range of intersection
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlapping_region'>overlapping_region</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='const'>Range</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_r'>r</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="argvals=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="argvals-instance_method">
  
    #<strong>argvals</strong>  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Dangerous to modify this directly since the order of the values must match the order of the code names.</p>
</div>
  </div>


<p>Returns list of code values</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>list of code values</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 87</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:ordinal</span><span class='comma'>,</span> <span class='symbol'>:onset</span><span class='comma'>,</span> <span class='symbol'>:offset</span><span class='comma'>,</span> <span class='symbol'>:arglist</span><span class='comma'>,</span> <span class='symbol'>:argvals</span><span class='comma'>,</span> <span class='symbol'>:db_cell</span><span class='comma'>,</span> <span class='symbol'>:parent</span>

  <span class='comment'># @!visibility private
</span>  <span class='comment'># @note This method is not for general use, it is used only when creating
</span>  <span class='comment'>#       this variable from the database in the get_column method.
</span>  <span class='comment'># Sets up methods that can be used to reference the arguments in
</span>  <span class='comment'># the cell.
</span>  <span class='comment'># @param argvals (required): Values of the arguments being created
</span>  <span class='comment'># @param arglist (required): Names of the arguments being created
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_set_args'>set_args</span><span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span><span class='comma'>,</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span>
    <span class='ivar'>@argvals</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='op'>?</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='op'>:</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>

    <span class='comment'># Add getter/setter methods for each code
</span>    <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Map the specified code names to their values.
</span>  <span class='comment'># If no names specified, use self.arglist.
</span>  <span class='comment'># @note Onset, offset, and ordinal are returned as Integers; all else are Strings
</span>  <span class='comment'># @param codes [Array&lt;String&gt;] (optional): Names of codes.
</span>  <span class='comment'># @return [Array] Values of specified codes.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_codes'>get_codes</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_codes'>codes</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span> <span class='kw'>if</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>

    <span class='id identifier rubyid_vals'>vals</span> <span class='op'>=</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='op'>|</span>
      <span class='kw'>case</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span>
      <span class='kw'>else</span>
        <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span><span class='op'>?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_arg'>get_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to get the following code from cell </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span><span class='embexpr_end'>}</span><span class='tstring_content'> in column </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cname'>cname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_vals'>vals</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_args</span> <span class='symbol'>:get_codes</span>
  <span class='kw'>alias</span> <span class='symbol'>:getArgs</span> <span class='symbol'>:get_codes</span>

  <span class='comment'># Defines an alias for a code
</span>  <span class='comment'># @!visibility private
</span>  <span class='comment'># @param i [Integer] index of code to change
</span>  <span class='comment'># @param new_name [String] new name for code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code_name'>change_code_name</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg_name</span> <span class='symbol'>:change_code_name</span>

  <span class='comment'># Add specified code to end of arglist.
</span>  <span class='comment'># @param new_name [String] name of new code
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_add_code'>add_code</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:add_arg</span> <span class='symbol'>:add_code</span>

  <span class='comment'># Removes code from arglist and associated value from argvals
</span>  <span class='comment'># @param name [String] name of code to remove
</span>  <span class='comment'># @return [nil]
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_remove_code'>remove_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:remove_arg</span> <span class='symbol'>:remove_code</span>

  <span class='comment'># Get value of a code
</span>  <span class='comment'># @param name [String] name of code
</span>  <span class='comment'># @return [String, Integer] value of code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_code'>get_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>onset</span><span class='words_sep'> </span><span class='tstring_content'>offset</span><span class='words_sep'> </span><span class='tstring_content'>ordinal</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cell does not have code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='comment'># return argvals[arglist.index(name)] if arglist.include?(name)
</span>  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_arg</span> <span class='symbol'>:get_code</span>

  <span class='comment'># Changes the value of an argument in a cell.
</span>  <span class='comment'># @param arg [String] name of the argument to be changed
</span>  <span class='comment'># @param val [String, Fixnum] value to change the argument to
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       trial.cells[0].change_code(&quot;onset&quot;, 1000)
</span>  <span class='comment'>#       set_column(trial)
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code'>change_code</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@onset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@offset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@ordinal</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_san_arg'>san_arg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RColumn.html" title="RColumn (class)">RColumn</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sanitize_codename'><span class='object_link'><a href="RColumn.html#sanitize_codename-class_method" title="RColumn.sanitize_codename (method)">sanitize_codename</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_san_arg'>san_arg</span><span class='rparen'>)</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='id identifier rubyid_argvals'>argvals</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to change code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;; no such code found.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg</span> <span class='symbol'>:change_code</span>

  <span class='comment'># Print ordinal, onset, offset, and values of all codes in the cell to console.
</span>  <span class='comment'># @param sep [String] seperator used between the arguments
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example Print the first cell in the &#39;trial&#39; column
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       puts trial.cells[0].print_all()
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_print_all'>print_all</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_print'>print</span> <span class='ivar'>@ordinal</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@onset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@offset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>self.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if self is nested temporally nested
</span>  <span class='comment'># @param outer_cell [RCell]: cell to check nesting against
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if trial.cells[0].is_within(id.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_is_within'>is_within</span><span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check to see if this cell encases another cell temporally
</span>  <span class='comment'># @param inner_cell [RCell] cell to check if contained by this cell
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if id.cells[0].contains(trial.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_contains'>contains</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Duration of this cell (currently defined as offset minus onset)
</span>  <span class='comment'># @return [Integer] duration of cell in ms
</span>  <span class='comment'># @example
</span>  <span class='comment'># 	duration = myCell.duration
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_duration'>duration</span>
    <span class='kw'>return</span> <span class='ivar'>@offset</span> <span class='op'>-</span> <span class='ivar'>@onset</span>
  <span class='kw'>end</span>

  <span class='comment'># Override method missing.
</span>  <span class='comment'># Check if the method is trying to get/set an arg.
</span>  <span class='comment'># If it is, define accessor method and send the method to self.
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mn'>mn</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span> <span class='op'>:</span> <span class='id identifier rubyid_mn'>mn</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
    <span class='kw'>else</span>
      <span class='kw'>super</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if given time falls within this cell&#39;s [onset, offset]
</span>  <span class='comment'># @param time time in milliseconds to check
</span>  <span class='comment'># @return [true, false] true if the given time is greater-than-or-equal to this cell&#39;s onset and less-than-or-equal to this cell&#39;s offset
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given cell
</span>  <span class='comment'># @param cell [RCell] other cell
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given cell
</span>  <span class='comment'># @note If the onset of one cell is the offset of another, the two cells are considered to be overlapping.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given time range (inclusive).
</span>  <span class='comment'># @param [Numeric] range time range
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given time range
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_range'>overlaps_range</span><span class='lparen'>(</span><span class='id identifier rubyid_range'>range</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
    <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Gives the intersection region between self and given cell
</span>  <span class='comment'># @param [RCell] cell other cell
</span>  <span class='comment'># @return [Range] time range of intersection
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlapping_region'>overlapping_region</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='const'>Range</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_r'>r</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="db_cell=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="db_cell-instance_method">
  
    #<strong>db_cell</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>MODIFY AT OWN RISK.</p>
</div>
  </div>


<p>Returns native Datavyu object corresponding to this cell.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>native Datavyu object corresponding to this cell.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 87</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:ordinal</span><span class='comma'>,</span> <span class='symbol'>:onset</span><span class='comma'>,</span> <span class='symbol'>:offset</span><span class='comma'>,</span> <span class='symbol'>:arglist</span><span class='comma'>,</span> <span class='symbol'>:argvals</span><span class='comma'>,</span> <span class='symbol'>:db_cell</span><span class='comma'>,</span> <span class='symbol'>:parent</span>

  <span class='comment'># @!visibility private
</span>  <span class='comment'># @note This method is not for general use, it is used only when creating
</span>  <span class='comment'>#       this variable from the database in the get_column method.
</span>  <span class='comment'># Sets up methods that can be used to reference the arguments in
</span>  <span class='comment'># the cell.
</span>  <span class='comment'># @param argvals (required): Values of the arguments being created
</span>  <span class='comment'># @param arglist (required): Names of the arguments being created
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_set_args'>set_args</span><span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span><span class='comma'>,</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span>
    <span class='ivar'>@argvals</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='op'>?</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='op'>:</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>

    <span class='comment'># Add getter/setter methods for each code
</span>    <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Map the specified code names to their values.
</span>  <span class='comment'># If no names specified, use self.arglist.
</span>  <span class='comment'># @note Onset, offset, and ordinal are returned as Integers; all else are Strings
</span>  <span class='comment'># @param codes [Array&lt;String&gt;] (optional): Names of codes.
</span>  <span class='comment'># @return [Array] Values of specified codes.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_codes'>get_codes</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_codes'>codes</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span> <span class='kw'>if</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>

    <span class='id identifier rubyid_vals'>vals</span> <span class='op'>=</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='op'>|</span>
      <span class='kw'>case</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span>
      <span class='kw'>else</span>
        <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span><span class='op'>?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_arg'>get_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to get the following code from cell </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span><span class='embexpr_end'>}</span><span class='tstring_content'> in column </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cname'>cname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_vals'>vals</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_args</span> <span class='symbol'>:get_codes</span>
  <span class='kw'>alias</span> <span class='symbol'>:getArgs</span> <span class='symbol'>:get_codes</span>

  <span class='comment'># Defines an alias for a code
</span>  <span class='comment'># @!visibility private
</span>  <span class='comment'># @param i [Integer] index of code to change
</span>  <span class='comment'># @param new_name [String] new name for code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code_name'>change_code_name</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg_name</span> <span class='symbol'>:change_code_name</span>

  <span class='comment'># Add specified code to end of arglist.
</span>  <span class='comment'># @param new_name [String] name of new code
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_add_code'>add_code</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:add_arg</span> <span class='symbol'>:add_code</span>

  <span class='comment'># Removes code from arglist and associated value from argvals
</span>  <span class='comment'># @param name [String] name of code to remove
</span>  <span class='comment'># @return [nil]
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_remove_code'>remove_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:remove_arg</span> <span class='symbol'>:remove_code</span>

  <span class='comment'># Get value of a code
</span>  <span class='comment'># @param name [String] name of code
</span>  <span class='comment'># @return [String, Integer] value of code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_code'>get_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>onset</span><span class='words_sep'> </span><span class='tstring_content'>offset</span><span class='words_sep'> </span><span class='tstring_content'>ordinal</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cell does not have code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='comment'># return argvals[arglist.index(name)] if arglist.include?(name)
</span>  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_arg</span> <span class='symbol'>:get_code</span>

  <span class='comment'># Changes the value of an argument in a cell.
</span>  <span class='comment'># @param arg [String] name of the argument to be changed
</span>  <span class='comment'># @param val [String, Fixnum] value to change the argument to
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       trial.cells[0].change_code(&quot;onset&quot;, 1000)
</span>  <span class='comment'>#       set_column(trial)
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code'>change_code</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@onset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@offset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@ordinal</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_san_arg'>san_arg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RColumn.html" title="RColumn (class)">RColumn</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sanitize_codename'><span class='object_link'><a href="RColumn.html#sanitize_codename-class_method" title="RColumn.sanitize_codename (method)">sanitize_codename</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_san_arg'>san_arg</span><span class='rparen'>)</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='id identifier rubyid_argvals'>argvals</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to change code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;; no such code found.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg</span> <span class='symbol'>:change_code</span>

  <span class='comment'># Print ordinal, onset, offset, and values of all codes in the cell to console.
</span>  <span class='comment'># @param sep [String] seperator used between the arguments
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example Print the first cell in the &#39;trial&#39; column
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       puts trial.cells[0].print_all()
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_print_all'>print_all</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_print'>print</span> <span class='ivar'>@ordinal</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@onset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@offset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>self.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if self is nested temporally nested
</span>  <span class='comment'># @param outer_cell [RCell]: cell to check nesting against
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if trial.cells[0].is_within(id.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_is_within'>is_within</span><span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check to see if this cell encases another cell temporally
</span>  <span class='comment'># @param inner_cell [RCell] cell to check if contained by this cell
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if id.cells[0].contains(trial.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_contains'>contains</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Duration of this cell (currently defined as offset minus onset)
</span>  <span class='comment'># @return [Integer] duration of cell in ms
</span>  <span class='comment'># @example
</span>  <span class='comment'># 	duration = myCell.duration
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_duration'>duration</span>
    <span class='kw'>return</span> <span class='ivar'>@offset</span> <span class='op'>-</span> <span class='ivar'>@onset</span>
  <span class='kw'>end</span>

  <span class='comment'># Override method missing.
</span>  <span class='comment'># Check if the method is trying to get/set an arg.
</span>  <span class='comment'># If it is, define accessor method and send the method to self.
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mn'>mn</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span> <span class='op'>:</span> <span class='id identifier rubyid_mn'>mn</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
    <span class='kw'>else</span>
      <span class='kw'>super</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if given time falls within this cell&#39;s [onset, offset]
</span>  <span class='comment'># @param time time in milliseconds to check
</span>  <span class='comment'># @return [true, false] true if the given time is greater-than-or-equal to this cell&#39;s onset and less-than-or-equal to this cell&#39;s offset
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given cell
</span>  <span class='comment'># @param cell [RCell] other cell
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given cell
</span>  <span class='comment'># @note If the onset of one cell is the offset of another, the two cells are considered to be overlapping.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given time range (inclusive).
</span>  <span class='comment'># @param [Numeric] range time range
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given time range
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_range'>overlaps_range</span><span class='lparen'>(</span><span class='id identifier rubyid_range'>range</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
    <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Gives the intersection region between self and given cell
</span>  <span class='comment'># @param [RCell] cell other cell
</span>  <span class='comment'># @return [Range] time range of intersection
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlapping_region'>overlapping_region</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='const'>Range</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_r'>r</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="offset=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="offset-instance_method">
  
    #<strong>offset</strong>  &#x21d2; <tt>Fixnum</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns offset time of the cell in milliseconds</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>offset time of the cell in milliseconds</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 87</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:ordinal</span><span class='comma'>,</span> <span class='symbol'>:onset</span><span class='comma'>,</span> <span class='symbol'>:offset</span><span class='comma'>,</span> <span class='symbol'>:arglist</span><span class='comma'>,</span> <span class='symbol'>:argvals</span><span class='comma'>,</span> <span class='symbol'>:db_cell</span><span class='comma'>,</span> <span class='symbol'>:parent</span>

  <span class='comment'># @!visibility private
</span>  <span class='comment'># @note This method is not for general use, it is used only when creating
</span>  <span class='comment'>#       this variable from the database in the get_column method.
</span>  <span class='comment'># Sets up methods that can be used to reference the arguments in
</span>  <span class='comment'># the cell.
</span>  <span class='comment'># @param argvals (required): Values of the arguments being created
</span>  <span class='comment'># @param arglist (required): Names of the arguments being created
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_set_args'>set_args</span><span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span><span class='comma'>,</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span>
    <span class='ivar'>@argvals</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='op'>?</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='op'>:</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>

    <span class='comment'># Add getter/setter methods for each code
</span>    <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Map the specified code names to their values.
</span>  <span class='comment'># If no names specified, use self.arglist.
</span>  <span class='comment'># @note Onset, offset, and ordinal are returned as Integers; all else are Strings
</span>  <span class='comment'># @param codes [Array&lt;String&gt;] (optional): Names of codes.
</span>  <span class='comment'># @return [Array] Values of specified codes.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_codes'>get_codes</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_codes'>codes</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span> <span class='kw'>if</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>

    <span class='id identifier rubyid_vals'>vals</span> <span class='op'>=</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='op'>|</span>
      <span class='kw'>case</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span>
      <span class='kw'>else</span>
        <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span><span class='op'>?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_arg'>get_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to get the following code from cell </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span><span class='embexpr_end'>}</span><span class='tstring_content'> in column </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cname'>cname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_vals'>vals</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_args</span> <span class='symbol'>:get_codes</span>
  <span class='kw'>alias</span> <span class='symbol'>:getArgs</span> <span class='symbol'>:get_codes</span>

  <span class='comment'># Defines an alias for a code
</span>  <span class='comment'># @!visibility private
</span>  <span class='comment'># @param i [Integer] index of code to change
</span>  <span class='comment'># @param new_name [String] new name for code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code_name'>change_code_name</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg_name</span> <span class='symbol'>:change_code_name</span>

  <span class='comment'># Add specified code to end of arglist.
</span>  <span class='comment'># @param new_name [String] name of new code
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_add_code'>add_code</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:add_arg</span> <span class='symbol'>:add_code</span>

  <span class='comment'># Removes code from arglist and associated value from argvals
</span>  <span class='comment'># @param name [String] name of code to remove
</span>  <span class='comment'># @return [nil]
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_remove_code'>remove_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:remove_arg</span> <span class='symbol'>:remove_code</span>

  <span class='comment'># Get value of a code
</span>  <span class='comment'># @param name [String] name of code
</span>  <span class='comment'># @return [String, Integer] value of code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_code'>get_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>onset</span><span class='words_sep'> </span><span class='tstring_content'>offset</span><span class='words_sep'> </span><span class='tstring_content'>ordinal</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cell does not have code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='comment'># return argvals[arglist.index(name)] if arglist.include?(name)
</span>  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_arg</span> <span class='symbol'>:get_code</span>

  <span class='comment'># Changes the value of an argument in a cell.
</span>  <span class='comment'># @param arg [String] name of the argument to be changed
</span>  <span class='comment'># @param val [String, Fixnum] value to change the argument to
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       trial.cells[0].change_code(&quot;onset&quot;, 1000)
</span>  <span class='comment'>#       set_column(trial)
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code'>change_code</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@onset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@offset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@ordinal</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_san_arg'>san_arg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RColumn.html" title="RColumn (class)">RColumn</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sanitize_codename'><span class='object_link'><a href="RColumn.html#sanitize_codename-class_method" title="RColumn.sanitize_codename (method)">sanitize_codename</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_san_arg'>san_arg</span><span class='rparen'>)</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='id identifier rubyid_argvals'>argvals</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to change code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;; no such code found.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg</span> <span class='symbol'>:change_code</span>

  <span class='comment'># Print ordinal, onset, offset, and values of all codes in the cell to console.
</span>  <span class='comment'># @param sep [String] seperator used between the arguments
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example Print the first cell in the &#39;trial&#39; column
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       puts trial.cells[0].print_all()
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_print_all'>print_all</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_print'>print</span> <span class='ivar'>@ordinal</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@onset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@offset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>self.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if self is nested temporally nested
</span>  <span class='comment'># @param outer_cell [RCell]: cell to check nesting against
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if trial.cells[0].is_within(id.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_is_within'>is_within</span><span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check to see if this cell encases another cell temporally
</span>  <span class='comment'># @param inner_cell [RCell] cell to check if contained by this cell
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if id.cells[0].contains(trial.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_contains'>contains</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Duration of this cell (currently defined as offset minus onset)
</span>  <span class='comment'># @return [Integer] duration of cell in ms
</span>  <span class='comment'># @example
</span>  <span class='comment'># 	duration = myCell.duration
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_duration'>duration</span>
    <span class='kw'>return</span> <span class='ivar'>@offset</span> <span class='op'>-</span> <span class='ivar'>@onset</span>
  <span class='kw'>end</span>

  <span class='comment'># Override method missing.
</span>  <span class='comment'># Check if the method is trying to get/set an arg.
</span>  <span class='comment'># If it is, define accessor method and send the method to self.
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mn'>mn</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span> <span class='op'>:</span> <span class='id identifier rubyid_mn'>mn</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
    <span class='kw'>else</span>
      <span class='kw'>super</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if given time falls within this cell&#39;s [onset, offset]
</span>  <span class='comment'># @param time time in milliseconds to check
</span>  <span class='comment'># @return [true, false] true if the given time is greater-than-or-equal to this cell&#39;s onset and less-than-or-equal to this cell&#39;s offset
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given cell
</span>  <span class='comment'># @param cell [RCell] other cell
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given cell
</span>  <span class='comment'># @note If the onset of one cell is the offset of another, the two cells are considered to be overlapping.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given time range (inclusive).
</span>  <span class='comment'># @param [Numeric] range time range
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given time range
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_range'>overlaps_range</span><span class='lparen'>(</span><span class='id identifier rubyid_range'>range</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
    <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Gives the intersection region between self and given cell
</span>  <span class='comment'># @param [RCell] cell other cell
</span>  <span class='comment'># @return [Range] time range of intersection
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlapping_region'>overlapping_region</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='const'>Range</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_r'>r</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="onset=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="onset-instance_method">
  
    #<strong>onset</strong>  &#x21d2; <tt>Fixnum</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns onset time of the cell in milliseconds</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>onset time of the cell in milliseconds</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 87</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:ordinal</span><span class='comma'>,</span> <span class='symbol'>:onset</span><span class='comma'>,</span> <span class='symbol'>:offset</span><span class='comma'>,</span> <span class='symbol'>:arglist</span><span class='comma'>,</span> <span class='symbol'>:argvals</span><span class='comma'>,</span> <span class='symbol'>:db_cell</span><span class='comma'>,</span> <span class='symbol'>:parent</span>

  <span class='comment'># @!visibility private
</span>  <span class='comment'># @note This method is not for general use, it is used only when creating
</span>  <span class='comment'>#       this variable from the database in the get_column method.
</span>  <span class='comment'># Sets up methods that can be used to reference the arguments in
</span>  <span class='comment'># the cell.
</span>  <span class='comment'># @param argvals (required): Values of the arguments being created
</span>  <span class='comment'># @param arglist (required): Names of the arguments being created
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_set_args'>set_args</span><span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span><span class='comma'>,</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span>
    <span class='ivar'>@argvals</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='op'>?</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='op'>:</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>

    <span class='comment'># Add getter/setter methods for each code
</span>    <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Map the specified code names to their values.
</span>  <span class='comment'># If no names specified, use self.arglist.
</span>  <span class='comment'># @note Onset, offset, and ordinal are returned as Integers; all else are Strings
</span>  <span class='comment'># @param codes [Array&lt;String&gt;] (optional): Names of codes.
</span>  <span class='comment'># @return [Array] Values of specified codes.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_codes'>get_codes</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_codes'>codes</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span> <span class='kw'>if</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>

    <span class='id identifier rubyid_vals'>vals</span> <span class='op'>=</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='op'>|</span>
      <span class='kw'>case</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span>
      <span class='kw'>else</span>
        <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span><span class='op'>?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_arg'>get_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to get the following code from cell </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span><span class='embexpr_end'>}</span><span class='tstring_content'> in column </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cname'>cname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_vals'>vals</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_args</span> <span class='symbol'>:get_codes</span>
  <span class='kw'>alias</span> <span class='symbol'>:getArgs</span> <span class='symbol'>:get_codes</span>

  <span class='comment'># Defines an alias for a code
</span>  <span class='comment'># @!visibility private
</span>  <span class='comment'># @param i [Integer] index of code to change
</span>  <span class='comment'># @param new_name [String] new name for code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code_name'>change_code_name</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg_name</span> <span class='symbol'>:change_code_name</span>

  <span class='comment'># Add specified code to end of arglist.
</span>  <span class='comment'># @param new_name [String] name of new code
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_add_code'>add_code</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:add_arg</span> <span class='symbol'>:add_code</span>

  <span class='comment'># Removes code from arglist and associated value from argvals
</span>  <span class='comment'># @param name [String] name of code to remove
</span>  <span class='comment'># @return [nil]
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_remove_code'>remove_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:remove_arg</span> <span class='symbol'>:remove_code</span>

  <span class='comment'># Get value of a code
</span>  <span class='comment'># @param name [String] name of code
</span>  <span class='comment'># @return [String, Integer] value of code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_code'>get_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>onset</span><span class='words_sep'> </span><span class='tstring_content'>offset</span><span class='words_sep'> </span><span class='tstring_content'>ordinal</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cell does not have code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='comment'># return argvals[arglist.index(name)] if arglist.include?(name)
</span>  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_arg</span> <span class='symbol'>:get_code</span>

  <span class='comment'># Changes the value of an argument in a cell.
</span>  <span class='comment'># @param arg [String] name of the argument to be changed
</span>  <span class='comment'># @param val [String, Fixnum] value to change the argument to
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       trial.cells[0].change_code(&quot;onset&quot;, 1000)
</span>  <span class='comment'>#       set_column(trial)
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code'>change_code</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@onset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@offset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@ordinal</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_san_arg'>san_arg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RColumn.html" title="RColumn (class)">RColumn</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sanitize_codename'><span class='object_link'><a href="RColumn.html#sanitize_codename-class_method" title="RColumn.sanitize_codename (method)">sanitize_codename</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_san_arg'>san_arg</span><span class='rparen'>)</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='id identifier rubyid_argvals'>argvals</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to change code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;; no such code found.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg</span> <span class='symbol'>:change_code</span>

  <span class='comment'># Print ordinal, onset, offset, and values of all codes in the cell to console.
</span>  <span class='comment'># @param sep [String] seperator used between the arguments
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example Print the first cell in the &#39;trial&#39; column
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       puts trial.cells[0].print_all()
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_print_all'>print_all</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_print'>print</span> <span class='ivar'>@ordinal</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@onset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@offset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>self.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if self is nested temporally nested
</span>  <span class='comment'># @param outer_cell [RCell]: cell to check nesting against
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if trial.cells[0].is_within(id.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_is_within'>is_within</span><span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check to see if this cell encases another cell temporally
</span>  <span class='comment'># @param inner_cell [RCell] cell to check if contained by this cell
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if id.cells[0].contains(trial.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_contains'>contains</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Duration of this cell (currently defined as offset minus onset)
</span>  <span class='comment'># @return [Integer] duration of cell in ms
</span>  <span class='comment'># @example
</span>  <span class='comment'># 	duration = myCell.duration
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_duration'>duration</span>
    <span class='kw'>return</span> <span class='ivar'>@offset</span> <span class='op'>-</span> <span class='ivar'>@onset</span>
  <span class='kw'>end</span>

  <span class='comment'># Override method missing.
</span>  <span class='comment'># Check if the method is trying to get/set an arg.
</span>  <span class='comment'># If it is, define accessor method and send the method to self.
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mn'>mn</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span> <span class='op'>:</span> <span class='id identifier rubyid_mn'>mn</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
    <span class='kw'>else</span>
      <span class='kw'>super</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if given time falls within this cell&#39;s [onset, offset]
</span>  <span class='comment'># @param time time in milliseconds to check
</span>  <span class='comment'># @return [true, false] true if the given time is greater-than-or-equal to this cell&#39;s onset and less-than-or-equal to this cell&#39;s offset
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given cell
</span>  <span class='comment'># @param cell [RCell] other cell
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given cell
</span>  <span class='comment'># @note If the onset of one cell is the offset of another, the two cells are considered to be overlapping.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given time range (inclusive).
</span>  <span class='comment'># @param [Numeric] range time range
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given time range
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_range'>overlaps_range</span><span class='lparen'>(</span><span class='id identifier rubyid_range'>range</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
    <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Gives the intersection region between self and given cell
</span>  <span class='comment'># @param [RCell] cell other cell
</span>  <span class='comment'># @return [Range] time range of intersection
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlapping_region'>overlapping_region</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='const'>Range</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_r'>r</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="ordinal=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="ordinal-instance_method">
  
    #<strong>ordinal</strong>  &#x21d2; <tt>Fixnum</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Prone to change after saving the column to Datavyu.</p>
</div>
  </div>


<p>Returns ordinal number of the cell</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>ordinal number of the cell</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 87</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:ordinal</span><span class='comma'>,</span> <span class='symbol'>:onset</span><span class='comma'>,</span> <span class='symbol'>:offset</span><span class='comma'>,</span> <span class='symbol'>:arglist</span><span class='comma'>,</span> <span class='symbol'>:argvals</span><span class='comma'>,</span> <span class='symbol'>:db_cell</span><span class='comma'>,</span> <span class='symbol'>:parent</span>

  <span class='comment'># @!visibility private
</span>  <span class='comment'># @note This method is not for general use, it is used only when creating
</span>  <span class='comment'>#       this variable from the database in the get_column method.
</span>  <span class='comment'># Sets up methods that can be used to reference the arguments in
</span>  <span class='comment'># the cell.
</span>  <span class='comment'># @param argvals (required): Values of the arguments being created
</span>  <span class='comment'># @param arglist (required): Names of the arguments being created
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_set_args'>set_args</span><span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span><span class='comma'>,</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span>
    <span class='ivar'>@argvals</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='op'>?</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='op'>:</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>

    <span class='comment'># Add getter/setter methods for each code
</span>    <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Map the specified code names to their values.
</span>  <span class='comment'># If no names specified, use self.arglist.
</span>  <span class='comment'># @note Onset, offset, and ordinal are returned as Integers; all else are Strings
</span>  <span class='comment'># @param codes [Array&lt;String&gt;] (optional): Names of codes.
</span>  <span class='comment'># @return [Array] Values of specified codes.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_codes'>get_codes</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_codes'>codes</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span> <span class='kw'>if</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>

    <span class='id identifier rubyid_vals'>vals</span> <span class='op'>=</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='op'>|</span>
      <span class='kw'>case</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span>
      <span class='kw'>else</span>
        <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span><span class='op'>?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_arg'>get_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to get the following code from cell </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span><span class='embexpr_end'>}</span><span class='tstring_content'> in column </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cname'>cname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_vals'>vals</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_args</span> <span class='symbol'>:get_codes</span>
  <span class='kw'>alias</span> <span class='symbol'>:getArgs</span> <span class='symbol'>:get_codes</span>

  <span class='comment'># Defines an alias for a code
</span>  <span class='comment'># @!visibility private
</span>  <span class='comment'># @param i [Integer] index of code to change
</span>  <span class='comment'># @param new_name [String] new name for code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code_name'>change_code_name</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg_name</span> <span class='symbol'>:change_code_name</span>

  <span class='comment'># Add specified code to end of arglist.
</span>  <span class='comment'># @param new_name [String] name of new code
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_add_code'>add_code</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:add_arg</span> <span class='symbol'>:add_code</span>

  <span class='comment'># Removes code from arglist and associated value from argvals
</span>  <span class='comment'># @param name [String] name of code to remove
</span>  <span class='comment'># @return [nil]
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_remove_code'>remove_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:remove_arg</span> <span class='symbol'>:remove_code</span>

  <span class='comment'># Get value of a code
</span>  <span class='comment'># @param name [String] name of code
</span>  <span class='comment'># @return [String, Integer] value of code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_code'>get_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>onset</span><span class='words_sep'> </span><span class='tstring_content'>offset</span><span class='words_sep'> </span><span class='tstring_content'>ordinal</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cell does not have code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='comment'># return argvals[arglist.index(name)] if arglist.include?(name)
</span>  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_arg</span> <span class='symbol'>:get_code</span>

  <span class='comment'># Changes the value of an argument in a cell.
</span>  <span class='comment'># @param arg [String] name of the argument to be changed
</span>  <span class='comment'># @param val [String, Fixnum] value to change the argument to
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       trial.cells[0].change_code(&quot;onset&quot;, 1000)
</span>  <span class='comment'>#       set_column(trial)
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code'>change_code</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@onset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@offset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@ordinal</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_san_arg'>san_arg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RColumn.html" title="RColumn (class)">RColumn</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sanitize_codename'><span class='object_link'><a href="RColumn.html#sanitize_codename-class_method" title="RColumn.sanitize_codename (method)">sanitize_codename</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_san_arg'>san_arg</span><span class='rparen'>)</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='id identifier rubyid_argvals'>argvals</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to change code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;; no such code found.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg</span> <span class='symbol'>:change_code</span>

  <span class='comment'># Print ordinal, onset, offset, and values of all codes in the cell to console.
</span>  <span class='comment'># @param sep [String] seperator used between the arguments
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example Print the first cell in the &#39;trial&#39; column
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       puts trial.cells[0].print_all()
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_print_all'>print_all</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_print'>print</span> <span class='ivar'>@ordinal</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@onset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@offset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>self.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if self is nested temporally nested
</span>  <span class='comment'># @param outer_cell [RCell]: cell to check nesting against
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if trial.cells[0].is_within(id.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_is_within'>is_within</span><span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check to see if this cell encases another cell temporally
</span>  <span class='comment'># @param inner_cell [RCell] cell to check if contained by this cell
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if id.cells[0].contains(trial.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_contains'>contains</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Duration of this cell (currently defined as offset minus onset)
</span>  <span class='comment'># @return [Integer] duration of cell in ms
</span>  <span class='comment'># @example
</span>  <span class='comment'># 	duration = myCell.duration
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_duration'>duration</span>
    <span class='kw'>return</span> <span class='ivar'>@offset</span> <span class='op'>-</span> <span class='ivar'>@onset</span>
  <span class='kw'>end</span>

  <span class='comment'># Override method missing.
</span>  <span class='comment'># Check if the method is trying to get/set an arg.
</span>  <span class='comment'># If it is, define accessor method and send the method to self.
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mn'>mn</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span> <span class='op'>:</span> <span class='id identifier rubyid_mn'>mn</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
    <span class='kw'>else</span>
      <span class='kw'>super</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if given time falls within this cell&#39;s [onset, offset]
</span>  <span class='comment'># @param time time in milliseconds to check
</span>  <span class='comment'># @return [true, false] true if the given time is greater-than-or-equal to this cell&#39;s onset and less-than-or-equal to this cell&#39;s offset
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given cell
</span>  <span class='comment'># @param cell [RCell] other cell
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given cell
</span>  <span class='comment'># @note If the onset of one cell is the offset of another, the two cells are considered to be overlapping.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given time range (inclusive).
</span>  <span class='comment'># @param [Numeric] range time range
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given time range
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_range'>overlaps_range</span><span class='lparen'>(</span><span class='id identifier rubyid_range'>range</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
    <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Gives the intersection region between self and given cell
</span>  <span class='comment'># @param [RCell] cell other cell
</span>  <span class='comment'># @return [Range] time range of intersection
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlapping_region'>overlapping_region</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='const'>Range</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_r'>r</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="parent=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="parent-instance_method">
  
    #<strong>parent</strong>  &#x21d2; <tt><span class='object_link'><a href="RColumn.html" title="RColumn (class)">RColumn</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>MODIFY AT OWN RISK.</p>
</div>
  </div>


<p>Returns the column this cell belongs to</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="RColumn.html" title="RColumn (class)">RColumn</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the column this cell belongs to</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 87</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span>
  <span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:ordinal</span><span class='comma'>,</span> <span class='symbol'>:onset</span><span class='comma'>,</span> <span class='symbol'>:offset</span><span class='comma'>,</span> <span class='symbol'>:arglist</span><span class='comma'>,</span> <span class='symbol'>:argvals</span><span class='comma'>,</span> <span class='symbol'>:db_cell</span><span class='comma'>,</span> <span class='symbol'>:parent</span>

  <span class='comment'># @!visibility private
</span>  <span class='comment'># @note This method is not for general use, it is used only when creating
</span>  <span class='comment'>#       this variable from the database in the get_column method.
</span>  <span class='comment'># Sets up methods that can be used to reference the arguments in
</span>  <span class='comment'># the cell.
</span>  <span class='comment'># @param argvals (required): Values of the arguments being created
</span>  <span class='comment'># @param arglist (required): Names of the arguments being created
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_set_args'>set_args</span><span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span><span class='comma'>,</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span>
    <span class='ivar'>@argvals</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_argvals'>argvals</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='op'>?</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span> <span class='op'>:</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_x'>x</span> <span class='rbrace'>}</span>

    <span class='comment'># Add getter/setter methods for each code
</span>    <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Map the specified code names to their values.
</span>  <span class='comment'># If no names specified, use self.arglist.
</span>  <span class='comment'># @note Onset, offset, and ordinal are returned as Integers; all else are Strings
</span>  <span class='comment'># @param codes [Array&lt;String&gt;] (optional): Names of codes.
</span>  <span class='comment'># @return [Array] Values of specified codes.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_codes'>get_codes</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_codes'>codes</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span> <span class='kw'>if</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>

    <span class='id identifier rubyid_vals'>vals</span> <span class='op'>=</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='op'>|</span>
      <span class='kw'>case</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&#39;</span></span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span>
      <span class='kw'>else</span>
        <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span><span class='op'>?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_arg'>get_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to get the following code from cell </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span><span class='embexpr_end'>}</span><span class='tstring_content'> in column </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cname'>cname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>

    <span class='kw'>return</span> <span class='id identifier rubyid_vals'>vals</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_args</span> <span class='symbol'>:get_codes</span>
  <span class='kw'>alias</span> <span class='symbol'>:getArgs</span> <span class='symbol'>:get_codes</span>

  <span class='comment'># Defines an alias for a code
</span>  <span class='comment'># @!visibility private
</span>  <span class='comment'># @param i [Integer] index of code to change
</span>  <span class='comment'># @param new_name [String] new name for code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code_name'>change_code_name</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg_name</span> <span class='symbol'>:change_code_name</span>

  <span class='comment'># Add specified code to end of arglist.
</span>  <span class='comment'># @param new_name [String] name of new code
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_add_code'>add_code</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='id identifier rubyid_argvals'>argvals</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>-</span> <span class='int'>1</span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_new_name'>new_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:add_arg</span> <span class='symbol'>:add_code</span>

  <span class='comment'># Removes code from arglist and associated value from argvals
</span>  <span class='comment'># @param name [String] name of code to remove
</span>  <span class='comment'># @return [nil]
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_remove_code'>remove_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='ivar'>@argvals</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:remove_arg</span> <span class='symbol'>:remove_code</span>

  <span class='comment'># Get value of a code
</span>  <span class='comment'># @param name [String] name of code
</span>  <span class='comment'># @return [String, Integer] value of code
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_get_code'>get_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>onset</span><span class='words_sep'> </span><span class='tstring_content'>offset</span><span class='words_sep'> </span><span class='tstring_content'>ordinal</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cell does not have code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='comment'># return argvals[arglist.index(name)] if arglist.include?(name)
</span>  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:get_arg</span> <span class='symbol'>:get_code</span>

  <span class='comment'># Changes the value of an argument in a cell.
</span>  <span class='comment'># @param arg [String] name of the argument to be changed
</span>  <span class='comment'># @param val [String, Fixnum] value to change the argument to
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       trial.cells[0].change_code(&quot;onset&quot;, 1000)
</span>  <span class='comment'>#       set_column(trial)
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_change_code'>change_code</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@onset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@offset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
      <span class='ivar'>@ordinal</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_san_arg'>san_arg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RColumn.html" title="RColumn (class)">RColumn</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sanitize_codename'><span class='object_link'><a href="RColumn.html#sanitize_codename-class_method" title="RColumn.sanitize_codename (method)">sanitize_codename</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_san_arg'>san_arg</span><span class='rparen'>)</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
            <span class='id identifier rubyid_argvals'>argvals</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to change code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;; no such code found.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>alias</span> <span class='symbol'>:change_arg</span> <span class='symbol'>:change_code</span>

  <span class='comment'># Print ordinal, onset, offset, and values of all codes in the cell to console.
</span>  <span class='comment'># @param sep [String] seperator used between the arguments
</span>  <span class='comment'># @return [nil]
</span>  <span class='comment'># @example Print the first cell in the &#39;trial&#39; column
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       puts trial.cells[0].print_all()
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_print_all'>print_all</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_print'>print</span> <span class='ivar'>@ordinal</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@onset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@offset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
      <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>self.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='kw'>nil</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if self is nested temporally nested
</span>  <span class='comment'># @param outer_cell [RCell]: cell to check nesting against
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if trial.cells[0].is_within(id.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_is_within'>is_within</span><span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check to see if this cell encases another cell temporally
</span>  <span class='comment'># @param inner_cell [RCell] cell to check if contained by this cell
</span>  <span class='comment'># @return [true, false]
</span>  <span class='comment'># @example
</span>  <span class='comment'>#       trial = get_column(&quot;trial&quot;)
</span>  <span class='comment'>#       id = get_column(&quot;id&quot;)
</span>  <span class='comment'>#       if id.cells[0].contains(trial.cells[0])
</span>  <span class='comment'>#           do something
</span>  <span class='comment'>#       end
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_contains'>contains</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Duration of this cell (currently defined as offset minus onset)
</span>  <span class='comment'># @return [Integer] duration of cell in ms
</span>  <span class='comment'># @example
</span>  <span class='comment'># 	duration = myCell.duration
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_duration'>duration</span>
    <span class='kw'>return</span> <span class='ivar'>@offset</span> <span class='op'>-</span> <span class='ivar'>@onset</span>
  <span class='kw'>end</span>

  <span class='comment'># Override method missing.
</span>  <span class='comment'># Check if the method is trying to get/set an arg.
</span>  <span class='comment'># If it is, define accessor method and send the method to self.
</span>  <span class='comment'># @!visibility private
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_method_missing'>method_missing</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mn'>mn</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_mn'>mn</span><span class='period'>.</span><span class='id identifier rubyid_chop'>chop</span> <span class='op'>:</span> <span class='id identifier rubyid_mn'>mn</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_index'>index</span> <span class='op'>=</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>; return argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>]; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_instance_eval'>instance_eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_code'>code</span><span class='embexpr_end'>}</span><span class='tstring_content'>=(val); argvals[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'>] = val.to_s; end</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
    <span class='kw'>else</span>
      <span class='kw'>super</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if given time falls within this cell&#39;s [onset, offset]
</span>  <span class='comment'># @param time time in milliseconds to check
</span>  <span class='comment'># @return [true, false] true if the given time is greater-than-or-equal to this cell&#39;s onset and less-than-or-equal to this cell&#39;s offset
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given cell
</span>  <span class='comment'># @param cell [RCell] other cell
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given cell
</span>  <span class='comment'># @note If the onset of one cell is the offset of another, the two cells are considered to be overlapping.
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Check if there is any intersection between this cell and given time range (inclusive).
</span>  <span class='comment'># @param [Numeric] range time range
</span>  <span class='comment'># @return [true, false] true if there is any temporal overlap between self and given time range
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlaps_range'>overlaps_range</span><span class='lparen'>(</span><span class='id identifier rubyid_range'>range</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
    <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Gives the intersection region between self and given cell
</span>  <span class='comment'># @param [RCell] cell other cell
</span>  <span class='comment'># @return [Range] time range of intersection
</span>  <span class='kw'>def</span> <span class='id identifier rubyid_overlapping_region'>overlapping_region</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='const'>Range</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_r'>r</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="change_code-instance_method">
  
    #<strong>change_code</strong>(arg, val)  &#x21d2; <tt>nil</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='change_arg-instance_method'>change_arg</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Changes the value of an argument in a cell.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_trial'>trial</span> <span class='op'>=</span> <span class='id identifier rubyid_get_column'><span class='object_link'><a href="top-level-namespace.html#get_column-instance_method" title="#get_column (method)">get_column</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>trial</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_trial'>trial</span><span class='period'>.</span><span class='id identifier rubyid_cells'>cells</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_change_code'>change_code</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1000</span><span class='rparen'>)</span>
<span class='id identifier rubyid_set_column'><span class='object_link'><a href="top-level-namespace.html#set_column-instance_method" title="#set_column (method)">set_column</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_trial'>trial</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arg</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of the argument to be changed</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>val</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Fixnum</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>value to change the argument to</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 186</span>

<span class='kw'>def</span> <span class='id identifier rubyid_change_code'>change_code</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
    <span class='ivar'>@onset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
    <span class='ivar'>@offset</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_arg'>arg</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='kw'>if</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>==</span> <span class='const'>String</span>
    <span class='ivar'>@ordinal</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_san_arg'>san_arg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="RColumn.html" title="RColumn (class)">RColumn</a></span></span><span class='period'>.</span><span class='id identifier rubyid_sanitize_codename'><span class='object_link'><a href="RColumn.html#sanitize_codename-class_method" title="RColumn.sanitize_codename (method)">sanitize_codename</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_san_arg'>san_arg</span><span class='rparen'>)</span>
      <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_arglist'>arglist</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_arg'>arg</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_arg'>arg</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
          <span class='id identifier rubyid_argvals'>argvals</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_val'>val</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to change code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;; no such code found.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="contains-instance_method">
  
    #<strong>contains</strong>(inner_cell)  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check to see if this cell encases another cell temporally</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>trial = get_column(&quot;trial&quot;)
id = get_column(&quot;id&quot;)
if id.cells[0].contains(trial.cells[0])
    do something
end</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>inner_cell</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>cell to check if contained by this cell</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


252
253
254
255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 252</span>

<span class='kw'>def</span> <span class='id identifier rubyid_contains'>contains</span><span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_inner_cell'>inner_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="duration-instance_method">
  
    #<strong>duration</strong>  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Duration of this cell (currently defined as offset minus onset)</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_duration'>duration</span> <span class='op'>=</span> <span class='id identifier rubyid_myCell'>myCell</span><span class='period'>.</span><span class='id identifier rubyid_duration'>duration</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>duration of cell in ms</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


264
265
266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 264</span>

<span class='kw'>def</span> <span class='id identifier rubyid_duration'>duration</span>
  <span class='kw'>return</span> <span class='ivar'>@offset</span> <span class='op'>-</span> <span class='ivar'>@onset</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_code-instance_method">
  
    #<strong>get_code</strong>(name)  &#x21d2; <tt>String</tt>, <tt>Integer</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='get_arg-instance_method'>get_arg</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get value of a code</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of code</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>value of code</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


168
169
170
171
172
173
174
175</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_code'>get_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>onset</span><span class='words_sep'> </span><span class='tstring_content'>offset</span><span class='words_sep'> </span><span class='tstring_content'>ordinal</span><span class='tstring_end'>)</span></span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cell does not have code &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='comment'># return argvals[arglist.index(name)] if arglist.include?(name)
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_codes-instance_method">
  
    #<strong>get_codes</strong>(*codes)  &#x21d2; <tt>Array</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='get_args-instance_method'>get_args</span>, <span id='getArgs-instance_method'>getArgs</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Onset, offset, and ordinal are returned as Integers; all else are Strings</p>
</div>
  </div>


<p>Map the specified code names to their values. If no names specified, use self.arglist.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>codes</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>(optional): Names of codes.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Values of specified codes.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 113</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_codes'>get_codes</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_codes'>codes</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arglist'>arglist</span> <span class='kw'>if</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_flatten!'>flatten!</span>

  <span class='id identifier rubyid_vals'>vals</span> <span class='op'>=</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cname'>cname</span><span class='op'>|</span>
    <span class='kw'>case</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>onset</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>offset</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span>
    <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ordinal</span><span class='tstring_end'>&#39;</span></span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span>
    <span class='kw'>else</span>
      <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span><span class='op'>?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_arg'>get_arg</span><span class='lparen'>(</span><span class='id identifier rubyid_cname'>cname</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Failed to get the following code from cell </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ordinal'>ordinal</span><span class='embexpr_end'>}</span><span class='tstring_content'> in column </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cname'>cname</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_vals'>vals</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_within-instance_method">
  
    #<strong>is_within</strong>(outer_cell)  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check if self is nested temporally nested</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>trial = get_column(&quot;trial&quot;)
id = get_column(&quot;id&quot;)
if trial.cells[0].is_within(id.cells[0])
    do something
end</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>outer_cell</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>: cell to check nesting against</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


239
240
241</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 239</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_within'>is_within</span><span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@onset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='ivar'>@offset</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_outer_cell'>outer_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='ivar'>@onset</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="overlapping_region-instance_method">
  
    #<strong>overlapping_region</strong>(cell)  &#x21d2; <tt>Range</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gives the intersection region between self and given cell</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>cell</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>other cell</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Range</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>time range of intersection</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


313
314
315
316</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 313</span>

<span class='kw'>def</span> <span class='id identifier rubyid_overlapping_region'>overlapping_region</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='const'>Range</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='comma'>,</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_r'>r</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="overlaps_cell-instance_method">
  
    #<strong>overlaps_cell</strong>(cell)  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>If the onset of one cell is the offset of another, the two cells are considered to be overlapping.</p>
</div>
  </div>


<p>Check if there is any intersection between this cell and given cell</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>cell</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>other cell</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if there is any temporal overlap between self and given cell</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 296</span>

<span class='kw'>def</span> <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_cell'>cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="overlaps_range-instance_method">
  
    #<strong>overlaps_range</strong>(range)  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check if there is any intersection between this cell and given time range (inclusive).</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>range</span>
      
      
        <span class='type'>(<tt>Numeric</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>time range</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if there is any temporal overlap between self and given time range</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


303
304
305
306
307
308</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 303</span>

<span class='kw'>def</span> <span class='id identifier rubyid_overlaps_range'>overlaps_range</span><span class='lparen'>(</span><span class='id identifier rubyid_range'>range</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dummy_cell'>dummy_cell</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="RCell (class)">RCell</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
  <span class='id identifier rubyid_overlaps_cell'>overlaps_cell</span><span class='lparen'>(</span><span class='id identifier rubyid_dummy_cell'>dummy_cell</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="print_all-instance_method">
  
    #<strong>print_all</strong>(sep = &quot;\t&quot;)  &#x21d2; <tt>nil</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Print ordinal, onset, offset, and values of all codes in the cell to console.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Print the first cell in the &#39;trial&#39; column</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_trial'>trial</span> <span class='op'>=</span> <span class='id identifier rubyid_get_column'><span class='object_link'><a href="top-level-namespace.html#get_column-instance_method" title="#get_column (method)">get_column</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>trial</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_trial'>trial</span><span class='period'>.</span><span class='id identifier rubyid_cells'>cells</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_print_all'>print_all</span><span class='lparen'>(</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>sep</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;\t&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>seperator used between the arguments</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219
220
221
222
223
224
225
226
227
228</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 217</span>

<span class='kw'>def</span> <span class='id identifier rubyid_print_all'>print_all</span><span class='lparen'>(</span><span class='id identifier rubyid_sep'>sep</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\t</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_print'>print</span> <span class='ivar'>@ordinal</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@onset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span> <span class='op'>+</span> <span class='ivar'>@offset</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
  <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span> <span class='op'>=</span> <span class='id identifier rubyid_eval'>eval</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>self.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_arg'>arg</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_t'>t</span> <span class='op'>==</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_t'>t</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_print'>print</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>+</span> <span class='id identifier rubyid_sep'>sep</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_code-instance_method">
  
    #<strong>remove_code</strong>(name)  &#x21d2; <tt>nil</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='remove_arg-instance_method'>remove_arg</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Removes code from arglist and associated value from argvals</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>name of code to remove</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


159
160
161
162</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 159</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_code'>remove_code</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='ivar'>@argvals</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_arglist'>arglist</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='ivar'>@arglist</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="spans-instance_method">
  
    #<strong>spans</strong>(time)  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check if given time falls within this cell&#39;s [onset, offset]</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>time</span>
      
      
        <span class='type'></span>
      
      
      
        &mdash;
        <div class='inline'>
<p>time in milliseconds to check</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if the given time is greater-than-or-equal to this cell&#39;s onset and less-than-or-equal to this cell&#39;s offset</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


288
289
290</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'datavyu_api.rb', line 288</span>

<span class='kw'>def</span> <span class='id identifier rubyid_spans'>spans</span><span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
  <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_onset'>onset</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_time'>time</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Sep  5 15:15:03 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20 (ruby-2.6.3).
</div>

    </div>
  </body>
</html>