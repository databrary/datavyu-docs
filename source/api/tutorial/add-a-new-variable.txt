.. _api-add-new-variable:

==================
Add a New Variable
==================

.. begin-content

Much like :ref:`adding a new cell <api-add-cells>` or :ref:`a new
argument <api-add-arguments>`, Datavyu API allows you to add a
completely new variable using the :function:`createVariable()` method.
:function:`createVariable` takes at least two parameters: the first is
the name of the new variable; any subsequent parameters will become the
new variable's :term:`arguments <argument>`.

For example, suppose you wanted to make a variable called "step" with
the three arguments called "foot", "ht", and "direction".

#. Set up the script, and create a new variable with its four arguments.
   We'll create a Ruby variable called ``step`` that will hold the
   data until we're ready to write it back to the Database:

   .. code-block:: ruby
   
      require 'Datavyu_API.rb'
      begin
         # Create new variable
         step = createVariable("step", "foot", "ht", "direction")

#. Write the new variable back to the database as a new variable
   without any cells, and ``end`` the script:
   
   .. code-block:: ruby
   
      require 'Datavyu_API.rb'
      begin
         step = createVariable("step", "foot", "ht", "direction")

         # Write the new variable to Datavyu's database
         setVariable(step)
      end

Or, putting it all together:

.. code-block:: ruby

   require 'Datavyu_API.rb'
   begin
      step = createVariable("step", "foot", "ht", "direction")
      setVariable(step)
   end

.. end-content
